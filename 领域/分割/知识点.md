## 分割相关知识


### 损失
- **Dice**  
  - dice是医学图像中的常见指标。它本质上是两个样本的重叠的度量。 此度量值范围是0到1**，其中Dice系数为1**表示完美且完整的重叠。。直观上理解，如下图：    
   		 ![](https://github.com/sfxz035/DL-Learning/raw/master/picture/20180607161135809.png)  
   		 计算公式为：  
   		 
	![enter image description here](https://github.com/sfxz035/DL-Learning/raw/master/picture/1556345040%281%29.jpg)   
	where |A∩B| 代表集合A和B的共同元素，并且| A | 表示集合A中的元素的数量（| B | 表示集合B中的元素的数量）。  
    - 对于在预测分割掩模上评估Dice系数的情况，|A∩B|的近似可以通过将预测和目标掩膜**按元素**（即对应点）相乘，然后对得到的矩阵进行求和得到。  
    因为目标掩模是二进制的，所以我们有效地将预测中没有在目标掩模中“激活”的任何像素清零。 对于剩余的像素，我们基本上采取惩罚低置信度的预测的策略; 该分子中的这个表达式的较高值会导致更好的Dice系数。
     - 为了量化| A | 和| B |，一些研究人员使用简单的求和，而其他研究人员则倾向于使用平方和。
   - **定义为损失**  
     以上计算都是衡量分割效果的指标，最佳效果时为1。想用该指标作为最小化损失时，可以制定为1-Dice。
     该损失只适用于0，1二值化的分割结果。（多类别的需要多通道分别计算再求均值）。V-Net: Fully Convolutional Neural Networks for Volumetric Medical Image Segmentation, International Conference on 3D Vision, 2016。
    - tensorflow代码
     

  
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTI4NDQzOTAxMCwtOTQ2MDg0NjYyLDE0NT
Q5MDMwMCwzNzE1NDAyNzFdfQ==
-->